# API 自动化接口测试框架开发计划

## 1. 里程碑
- M1：项目脚手架与基础能力（配置、请求封装、用例生成）
- M2：pytest 集成与断言体系
- M3：Allure 报告与失败重跑、日志与数据隔离
- M4：CI 集成与模板示例完善

## 2. 分阶段任务
**阶段一：基础架构（1-2 周）**
- 初始化项目结构
- 统一配置加载（YAML/JSON）
- HTTP 客户端封装（requests/httpx）
- 用例模型定义（schema + dataclass）
- 用例生成器（从配置生成 pytest 参数）

**阶段二：测试框架（1-2 周）**
- pytest 插件化能力
- 断言层（状态码、字段、jsonpath、schema）
- 数据驱动（环境、账号、变量）
- Fixtures 设计（auth、session、env）

**阶段三：报告与稳定性（1 周）**
- Allure 报告
- 日志、请求响应记录
- 失败重试机制
- 错误分级与清晰定位

**阶段四：工程化（1 周）**
- 示例数据与模板
- README 与最佳实践

## 3. 新增开发计划
**阶段五：用例与配置扩展（1-2 周）**
- 用例配置支持扩展方法（如随机数、时间戳等），新增扩展方法文件
- 增加扩展方法注册/调用规范与示例

**阶段六：项目级用例执行（1 周）**
- 支持按项目执行用例：一个文件夹作为一个项目
- 项目级用例发现与运行入口

**阶段七：项目配置与 base_url 分离（0.5-1 周）**
- 将用例配置中的 base_url 下沉到项目配置
- 用例文件仅描述接口路径与参数

**阶段八：认证与授权能力（1 周）**
- 支持 Bearer Token、Cookie 等认证方式
- 登录授权流程配置与复用（token 缓存/刷新策略）
